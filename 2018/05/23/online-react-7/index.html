
<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" href="/img/sand2.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/sand2.png">
  <meta property="og:image" content="https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png">
  
  <link rel="stylesheet" href="/css/style.css?v=1.3"> 
  <link href="//vjs.zencdn.net/6.7/video-js.min.css" rel="stylesheet">
  <script src="//vjs.zencdn.net/6.7/video.min.js"></script>
  
  <title>Conditional【条件】 Rendering【渲染】 | 小沙丘的网络漫游记</title>
 <meta name="description" content="" >

 <!-- 百度统计 -->
 <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?eafa0040e1ab3bed28ce82ef03de6e01";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>
<body>
  
  <script>
      if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)){
        document.body.classList.add('mobile');            
      } else{
        document.body.classList.add('pc');
        document.getElementsByTagName("html")[0].style.fontSize="62.5%";
      }
      var u = navigator.userAgent;
var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
if(isiOS){
  document.body.classList.add('ios');
  document.getElementsByTagName("html")[0].style.fontSize="65%";
           
}
    </script>

  <div class="container">
<!-- 用于文章页面的顶部，提供返回主页和主题页的按键 -->
<!-- 头部开始 -->

<div id="header">
    <p>小沙丘的网络漫游记
      <span> » 
        <a href="/home/">首页</a>
      </span>
      
      <span> » 
          <a href="/tags/React/">
            React
          </a>
      </span>
      
    </p>
</div>

<!-- 头部结束 -->



<!-- 分类组件，放置于文章页面的顶部，提供上(或下)一篇导航按键。 -->
<div class="asset-nav">
    <div class="entry-categories">
      <p>主题：
        <span> 
            <a href="/tags/React/">
              React
            </a>
        </span>
      </p>
    </div>
    <div class="entry-location-mobile">
        <span>
            
            <a href="/2018/05/23/online-react-6/">
            &#8676;
            </a>
        </span>
        <span>
            
            <a href="/2018/05/23/online-react-8/">
              &#8677;
            </a>
        </span>
    </div>
    <div class="entry-location">
        <P>上一篇：
                <a href="/2018/05/23/online-react-6/">
                    Handling【处理】 Events【事件】
                </a>
        </P>
        <P>下一篇：

                <a href="/2018/05/23/online-react-8/">
                    Lists【列表】 and Keys
                </a>
        </P>
    </div>
</div>

<div class="post">
<div class="title-post">
<h1>Conditional【条件】 Rendering【渲染】</h1>
<div class="post-meta">
  <p>作者： Lian</p>
  <p>日期：
    2018年05月23日 20:05
  </p>
</div>
</div>



  
  <div class="page">
      <p>In React, you can create distinct components that encapsulate【封装】 behavior【行为】 you need. Then, you can render only some of them, depending on the state【状态】 of your application.</p>
<p>Conditional【条件】 rendering in React works the same【相同】 way conditions work in JavaScript. Use JavaScript operators【操作符】 like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else" target="_blank" rel="external"><code>if</code></a> or the <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" target="_blank" rel="external">conditional operator</a> to create elements representing the current【当前】 state, and let React update【更新】 the UI to match them.</p>
<p>Consider【考虑】 these two components:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">UserGreeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Welcome back<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">GuestGreeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Please sign up<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We’ll create a <code>Greeting</code> component that displays【显示】 either of these components depending on whether【是否】 a user is logged in:</p>
<pre class=" language-javascript{3-7,11,12}"><code class="language-javascript{3-7,11,12}">function Greeting(props) {
  const isLoggedIn = props.isLoggedIn;
  if (isLoggedIn) {
    return <UserGreeting />;
  }
  return <GuestGreeting />;
}

ReactDOM.render(
  // Try changing to isLoggedIn={true}:
  <Greeting isLoggedIn={false} />,
  document.getElementById('root')
);
</code></pre>
<p><a href="https://codepen.io/gaearon/pen/ZpVxNq?editors=0011" target="_blank" rel="external">Try it on CodePen.</a></p>
<p>This example renders a different【不同】 greeting depending on the value of <code>isLoggedIn</code> prop.</p>
<h3 id="Element-Variables【变量】"><a href="#Element-Variables【变量】" class="headerlink" title="Element Variables【变量】"></a>Element Variables【变量】</h3><p>You can use variables to store【存储】 elements. This can help you conditionally【条件】 render a part of the component while the rest【余下】 of the output doesn’t change【不改变】.</p>
<p>Consider these two new components representing Logout and Login buttons:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">LoginButton</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>onClick<span class="token punctuation">}</span><span class="token operator">></span>
      Login
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">LogoutButton</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>onClick<span class="token punctuation">}</span><span class="token operator">></span>
      Logout
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In the example below, we will create【创建】 a <a href="/docs/state-and-lifecycle.html#adding-local-state-to-a-class">stateful component</a> called <code>LoginControl</code>.</p>
<p>It will render either <code>&lt;LoginButton /&gt;</code> or <code>&lt;LogoutButton /&gt;</code> depending on its current state【状态】. It will also render a <code>&lt;Greeting /&gt;</code> from the previous example:</p>
<pre class=" language-javascript{20-25,29,30}"><code class="language-javascript{20-25,29,30}">class LoginControl extends React.Component {
  constructor(props) {
    super(props);
    this.handleLoginClick = this.handleLoginClick.bind(this);
    this.handleLogoutClick = this.handleLogoutClick.bind(this);
    this.state = {isLoggedIn: false};
  }

  handleLoginClick() {
    this.setState({isLoggedIn: true});
  }

  handleLogoutClick() {
    this.setState({isLoggedIn: false});
  }

  render() {
    const isLoggedIn = this.state.isLoggedIn;

    const button = isLoggedIn ? (
      <LogoutButton onClick={this.handleLogoutClick} />
    ) : (
      <LoginButton onClick={this.handleLoginClick} />
    );

    return (
      <div>
        <Greeting isLoggedIn={isLoggedIn} />
        {button}
      </div>
    );
  }
}

ReactDOM.render(
  <LoginControl />,
  document.getElementById('root')
);
</code></pre>
<p><a href="https://codepen.io/gaearon/pen/QKzAgB?editors=0010" target="_blank" rel="external">Try it on CodePen.</a></p>
<p>While declaring【声明】 a variable and using an <code>if</code> statement is a fine【很好】 way to conditionally render a component, sometimes you might want to use a shorter【更短】 syntax. There are a few ways to inline【内联】 conditions in JSX, explained below.</p>
<h3 id="Inline【内联】-If-with-Logical【逻辑】-amp-amp-Operator"><a href="#Inline【内联】-If-with-Logical【逻辑】-amp-amp-Operator" class="headerlink" title="Inline【内联】 If with Logical【逻辑】 &amp;&amp; Operator"></a>Inline【内联】 If with Logical【逻辑】 &amp;&amp; Operator</h3><p>You may <a href="/docs/introducing-jsx.html#embedding-expressions-in-jsx">embed any expressions in JSX</a> by wrapping them in curly braces【大括号】. This includes the JavaScript logical <code>&amp;&amp;</code> operator. It can be handy for conditionally including【包括】 an element:</p>
<pre class=" language-js{6-10}"><code class="language-js{6-10}">function Mailbox(props) {
  const unreadMessages = props.unreadMessages;
  return (
    <div>
      <h1>Hello!</h1>
      {unreadMessages.length > 0 &&
        <h2>
          You have {unreadMessages.length} unread messages.
        </h2>
      }
    </div>
  );
}

const messages = ['React', 'Re: React', 'Re:Re: React'];
ReactDOM.render(
  <Mailbox unreadMessages={messages} />,
  document.getElementById('root')
);
</code></pre>
<p><a href="https://codepen.io/gaearon/pen/ozJddz?editors=0010" target="_blank" rel="external">Try it on CodePen.</a></p>
<p>It works because【因为】 in JavaScript, <code>true &amp;&amp; expression</code> always evaluates【估值】 to <code>expression</code>, and <code>false &amp;&amp; expression</code> always evaluates to <code>false</code>.</p>
<p>Therefore【因此】, if the condition is <code>true</code>, the element right after <code>&amp;&amp;</code> will appear in the output. If it is <code>false</code>, React will ignore and skip【跳过】 it.</p>
<h3 id="Inline【内联】-If-Else-with-Conditional【条件性】-Operator"><a href="#Inline【内联】-If-Else-with-Conditional【条件性】-Operator" class="headerlink" title="Inline【内联】 If-Else with Conditional【条件性】 Operator"></a>Inline【内联】 If-Else with Conditional【条件性】 Operator</h3><p>Another【另外】 method for conditionally rendering elements inline is to use the JavaScript conditional operator <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" target="_blank" rel="external"><code>condition ? true : false</code></a>.</p>
<p>In the example below, we use it to conditionally render a small【小】 block of text.</p>
<pre class=" language-javascript{5}"><code class="language-javascript{5}">render() {
  const isLoggedIn = this.state.isLoggedIn;
  return (
    <div>
      The user is <b>{isLoggedIn ? 'currently' : 'not'}</b> logged in.
    </div>
  );
}
</code></pre>
<p>It can also be used for larger【更大】 expressions although it is less obvious what’s going on:</p>
<pre class=" language-js{5,7,9}"><code class="language-js{5,7,9}">render() {
  const isLoggedIn = this.state.isLoggedIn;
  return (
    <div>
      {isLoggedIn ? (
        <LogoutButton onClick={this.handleLogoutClick} />
      ) : (
        <LoginButton onClick={this.handleLoginClick} />
      )}
    </div>
  );
}
</code></pre>
<p>Just like in JavaScript, it is up to you to choose an appropriate【合适】 style based on what you and your team consider more readable【可读性】. Also remember that whenever conditions become too complex【复杂】, it might be a good time to <a href="/docs/components-and-props.html#extracting-components">extract a component</a>.</p>
<h3 id="Preventing【阻止】-Component-from-Rendering【渲染】"><a href="#Preventing【阻止】-Component-from-Rendering【渲染】" class="headerlink" title="Preventing【阻止】 Component from Rendering【渲染】"></a>Preventing【阻止】 Component from Rendering【渲染】</h3><p>In rare【很少】 cases you might want a component to hide【隐藏】 itself even though it was rendered by another component. To do this return <code>null</code> instead of its render output.</p>
<p>In the example below, the <code>&lt;WarningBanner /&gt;</code> is rendered depending on【依赖】 the value of the prop called <code>warn</code>. If the value of the prop is <code>false</code>, then the component does not render:</p>
<pre class=" language-javascript{2-4,29}"><code class="language-javascript{2-4,29}">function WarningBanner(props) {
  if (!props.warn) {
    return null;
  }

  return (
    <div className="warning">
      Warning!
    </div>
  );
}

class Page extends React.Component {
  constructor(props) {
    super(props);
    this.state = {showWarning: true};
    this.handleToggleClick = this.handleToggleClick.bind(this);
  }

  handleToggleClick() {
    this.setState(prevState => ({
      showWarning: !prevState.showWarning
    }));
  }

  render() {
    return (
      <div>
        <WarningBanner warn={this.state.showWarning} />
        <button onClick={this.handleToggleClick}>
          {this.state.showWarning ? 'Hide' : 'Show'}
        </button>
      </div>
    );
  }
}

ReactDOM.render(
  <Page />,
  document.getElementById('root')
);
</code></pre>
<p><a href="https://codepen.io/gaearon/pen/Xjoqwm?editors=0010" target="_blank" rel="external">Try it on CodePen.</a></p>
<p>Returning <code>null</code> from a component’s <code>render</code> method does not affect【影响】 the firing of the component’s lifecycle methods【方法】. For instance, <code>componentWillUpdate</code> and <code>componentDidUpdate</code> will still be called【调用】.</p>

  </div>
</div>


<p class="nav-foot">
  <span class="left"><a href="/2018/05/23/online-react-6/">« Handling【处...</a></span>
  <span class="right"><a href="/2018/05/23/online-react-8/">Lists【列表】 ... »</a></span>
</p>

<!-- 文档信息 -->
<div class="post-foot">
  <h3>文档信息</h3>
  <ul>
    <li>版权声明：自由转载-非商用-非衍生-保持署名（
      <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）
    </li>
    <li>作者：<a href="/">Lian</a></li>
    <li>日期：2018年05月23日 20:05</li>
    <li>邮箱：lian1925@126.com</li>
  </ul>
</div>
      




<div class="content-comment">
  <h2>留言</h2>
  
  
		
</div>

<!-- 评论输入组件，填写数据：留言，称呼，电子邮件 -->

<div class="form-comment">
  <h2>
		我要发表看法
	</h2>

	<form method="post" 
	target="targetIfr"
	action="">
	 <!-- 留言正文 -->
	 
		
<p>
	<label for="comment-content">
		您的留言:
	</label>
</p>

<p>
	<textarea 
	id="comment-content" 
	name="content" 
	rows="10" cols="50">
	</textarea>
</p>

		<!-- 姓名 -->
	 
		
<p>
	<label for="comment-author">
		您的大名:
	</label>
</p>

<p>
	<input 
	id="comment-author" 
	name="author" 
	size="30" 
	value=""
	pattern="^.{2,150}$"
	required
	>
	<span class="hint">
			 «-必填
	</span
</p>


		<!-- 微信 -->
	 
		
<p>
	<label for="comment-wechat">
		您的微信:
	</label>
</p>

<p>
	<input 
	id="comment-wechat" 
	name="wechat" 
	size="30" 
	value=""
	pattern="^[a-zA-Zd_]{5,}$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		<!-- 电子邮箱 -->
		
		
<p>
	<label for="comment-email">
		电子邮箱：
	</label>
</p>

<p>
	<input 
	id="comment-email" 
	name="email" 
	size="30" 
	value=""
	pattern="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		
		<p>

		
<div class="button">
    <input 
    class="submit-button" 
    onclick="doButton('addComment')"
    value="发表">
    <span class="hint"> «- 点击按钮</span>
</div>
		</p>
	</form>
	<iframe name="targetIfr" style="display:none"></iframe> 
</div>


<!-- data:{
	name:'',
	type:'passwor',
	label:'您的大名',
	hint:'',
	pattern:'[A-z]{3}',
	required:"required"
} -->


<p id="info-meta" style="display:none;">
  online-react-7
</p>


<p id="info-url" style="display:none;">
  
</p>

<div class="footer">
  Copyright @ <a href="/">lian</a> | 2009-2018
</div>

</div>

<script src="/js/jquery.js"></script>
<script src="/js/APlayer.min.js"></script>
<script src="/js/post.js"></script>

</body>

</html>

